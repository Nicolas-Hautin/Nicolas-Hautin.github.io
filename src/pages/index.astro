---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";
import FormattedDate from "../components/FormattedDate.astro";

const posts = (await getCollection("blog"))
  .sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
  .slice(0, 4);
---

<BaseLayout>
  <div
    class="flex h-screen flex-col-reverse sm:flex-row lg:flex-row items-center justify-center lg:mt-0 p-10 lg:px-32 lg:py-0 w-full gap-0 lg:gap-0" >
    <div class="lg:w-1/2 flex flex-col gap-5 justify-center items-center sm:items-start">
      <p class="hidden border-2 sm:flex rounded-lg items-center justify-center border-black px-5 py-2 font-bold w-42">
        2024-2025
      </p>
      <h1 class="text-4xl lg:text-6xl font-semibold font-copperplate">
        Portfolio
      </h1>
      <p class="text-md text-center sm:text-left lg:text-lg font-montserrat text-gray-600">
        Bienvenue dans l'univers créatif de Nicolas HAUTIN !
        <br />
        Découvrez mes projets et compétences issus de ma formation MMI.
      </p>
      <a
      class="bg-black border-2 border-black text-white px-4 py-2 mt-4 rounded-lg hover:bg-slate-100 hover:text-black transition-colors duration-300"        
      href="/blog">Mes réalisations</a>
    </div>
    <div class="lg:w-1/2 p-10 lg:p-28 lg:flex lg:items-center justify-center">
      <img src="./ordinateur.png" alt="ordinateur" class="" />
    </div>
  </div>

  <section id="propos" class="flex flex-col lg:flex-row items-center">
    <div
      class="p-10 flex flex-col justify-center lg:w-1/2 lg:p-0 lg:mx-32 gap-5"
    >
      <div class="flex flex-col justify-center gap-5 text-center  lg:text-left">
        <h2 class="text-4xl font-copperplate font-bold text-black">À propos</h2>
        <p class="text-md font-montserrat text-gray-600">
          Bonjour et bienvenue sur mon portfolio !
        </p>
        <p class="text-md lg:text-lg font-montserrat text-gray-600">
          Je m'appelle Nicolas HAUTIN et je suis actuellement en troisième année
          de BUT Métiers du Multimédia et de l'Internet (MMI). Passionné par la
          création numérique sous toutes ses formes, je me spécialise en
          webdesign, production vidéo, et design UI/UX. Mon objectif est de
          concevoir des expériences visuelles et interactives qui allient
          esthétique et fonctionnalité.
        </p>
      </div>
      <div class="flex items-center justify-center lg:justify-start">
        
        <a
        class="bg-black border-2 border-black text-white px-4 py-2 mt-4 rounded-lg hover:bg-slate-100 hover:text-black transition-colors duration-300"        
        href="/blog">Mes réalisations</a
        >
      </div>
    </div>
    <div
      class="lg:w-1/2 lg:pr-32 lg:pl-16 bg-black flex justify-center items-center min-h-screen p-0 m-0 w-full"
    >
      <ul class="p-16 lg:p-5 text-white flex flex-col gap-16">
        <li class="flex gap-10">
          <img
            src="/ordinateur.svg"
            alt="ampoule"
            class="lg:w-16 w-10 rounded-lg shadow-lg"
            loading="lazy"
          />
          <div>
            <h3 class="text-lg lg:text-xl font-semibold font-copperplate">
              Webdesign
            </h3>
            <p class="text-sm lg:text-lg font-montserrat">
              Je conçois des designs modernes et attrayants pour le web, en
              mettant l'accent sur l'ergonomie et l'esthétique.
            </p>
          </div>
        </li>
        <li class="flex gap-10">
          <img
            src="/camera.svg"
            alt="pinceau"
            class="lg:w-16 w-10 rounded-lg shadow-lg"
            loading="lazy"
          />
          <div>
            <h3 class="text-lg lg:text-xl font-semibold font-copperplate">
              Production vidéo
            </h3>
            <p class="text-sm lg:text-lg font-montserrat">
              Je crée et monte des vidéos captivantes qui racontent des
              histoires et mettent en valeur votre message.
            </p>
          </div>
        </li>
        <li class="flex gap-10">
          <img
            src="/pinceau.svg"
            alt=""
            class="lg:w-16 w-10 rounded-lg shadow-lg"
            loading="lazy"
          />
          <div>
            <h3 class="text-lg lg:text-xl font-semibold font-copperplate">
              UI/UX Design
            </h3>
            <p class="text-sm lg:text-lg font-montserrat">
              Je conçois des interfaces intuitives et centrées sur
              l'utilisateur, pour des expériences fluides et engageantes.
            </p>
          </div>
        </li>
        <li class="flex gap-10">
          <img
            src="/ampoule.svg"
            alt=""
            class="lg:w-12 w-10 rounded-lg shadow-lg"
            loading="lazy"
          />
          <div>
            <h3 class="text-lg lg:text-xl font-semibold font-copperplate">
              Créativité
            </h3>
            <p class="text-lg font-montserrat">
              J'aime transformer les idées en projets concrets et uniques.
            </p>
          </div>
        </li>
      </ul>
    </div>
  </section>

  <section
    class="flex flex-col lg:flex-row items-center justify-center py-20 lg:py-40"
  >
    <ul class="flex flex-col md:flex-row lg:flex-row gap-20">
      <li class="flex flex-col gap-2">
        <div class="flex items-end font-bold text-5xl gap-2 justify-center">
          <p class="number1 flex flex-col-reverse text-5xl"></p>
          <span class="font-copperplate">ans</span>
        </div>
        <p class="flex justify-center uppercase font-copperplatelight">
          d'expérience
        </p>
      </li>
      <li class="flex flex-col gap-2">
        <div class="flex items-end font-bold text-5xl gap-2 justify-center">
          <p class="number2 flex flex-col-reverse text-5xl"></p>
          <span class="font-copperplate">+</span>
        </div>
        <p class="flex justify-center uppercase font-copperplatelight">
          Projets réalisés
        </p>
      </li>
      <li class="flex flex-col gap-2">
        <div class="flex items-end font-bold text-5xl gap-2 justify-center">
          <p class="number3 flex flex-col-reverse text-5xl"></p>
          <span class="font-copperplate">h</span>
        </div>
        <p class="flex justify-center uppercase font-copperplatelight">
          Production vidéo
        </p>
      </li>
      <li class="flex flex-col gap-2">
        <div class="flex items-end font-bold text-5xl gap-2 justify-center">
          <p class="number4 flex flex-col-reverse text-5xl"></p>
          <span class="font-copperplate">+</span>
        </div>
        <p class="flex justify-center uppercase font-copperplatelight">
          Sites internet
        </p>
      </li>
    </ul>
  </section>
  <section class="flex flex-col mx-10 lg:mx-32 gap-5">
    <h2 class="text-4xl font-copperplate font-bold text-center text-gray-800 mb-">
      Mes réalisations
    </h2>
  
    <ul class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-10 z-10">
      {posts.map((post, index) => (
        <li
          key={post.slug}
          class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-2xl transition-transform duration-300 transform hover:-translate-y-3 hover:scale-105 group"
        >
          <a href={`/blog/${post.slug}/`} class="flex flex-col">
            <div class="relative overflow-hidden">
              <img
                width={720}
                height={360}
                src={post.data.heroImage}
                alt={post.data.title}
                class="object-cover transition-transform duration-500 group-hover:scale-110 w-full h-full"
              />
            </div>
            <div class="p-6 flex flex-col justify-between gap-4">
              <h3 class="text-2xl font-bold font-copperplate text-gray-800 hover:text-black transition-colors">
                {post.data.title}
              </h3>
              <p class="text-gray-600 font-montserrat text-sm leading-relaxed">
                {post.data.description}
              </p>

              <button class="bg-black border-2 border-black text-white px-4 py-2 mt-4 rounded-lg hover:bg-white hover:text-black transition-colors duration-300">
                Voir le projet
              </button>
            </div>
          </a>
        </li>
      ))}
    </ul>
  </section>


  <section
    class="flex flex-col items-center justify-center text-center p-16 lg:p-44 gap-5"
  >
    <div class="flex flex-col justify-center gap-5">
      <h2 class="text-4xl font-copperplate font-bold text-black">
        Contactez-moi
      </h2>
      <p class="text-md lg:text-lg font-montserrat text-gray-600">
        Vous avez une question, un projet ou simplement envie d'en savoir plus
        sur mon travail ?<br /> N'hésitez pas à me contacter ! Je suis disponible
        pour échanger, répondre à vos besoins et explorer ensemble les possibilités
        de collaboration qui feront la différence.
      </p>
    </div>
    <a
    class="bg-black border-2 border-black text-white px-4 py-2 mt-4 rounded-lg hover:bg-slate-100 hover:text-black transition-colors duration-300"        
    href="/contact">Contact</a
    >
  </section>
</BaseLayout>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          if (entry.target.classList.contains("number1")) {
            entry.target.classList.add("animate-counter-number1");
          } else if (entry.target.classList.contains("number2")) {
            entry.target.classList.add("animate-counter-number2");
          } else if (entry.target.classList.contains("number3")) {
            entry.target.classList.add("animate-counter-number3");
          } else if (entry.target.classList.contains("number4")) {
            entry.target.classList.add("animate-counter-number4");
          }
          observer.unobserve(entry.target);
        }
      });
    });

    const targets = document.querySelectorAll(
      ".number1, .number2, .number3, .number4"
    );
    targets.forEach((target) => {
      observer.observe(target);
    });
  });

</script>
